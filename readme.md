# 双足机器人在线落足点规划 (Trapla)

本项目旨在解决双足机器人在不平坦地形上的在线落足点规划问题。通过给定的三维地形图、起点和终点，项目能够规划出满足机器人物理约束条件的行走路径。

## 项目背景

双足机器人在复杂地形上行走时受到多种约束：

- 步长限制（最大40）
- 足平面法线与重力方向夹角限制（小于±20°）
- 双足间距约束（2-10）
- 最大转向角限制（小于±75°）

本项目使用改进的A*算法来寻找最优路径，同时考虑地形代价和机器人约束。

## 功能特性

- 基于A*算法的路径搜索
- 考虑地形复杂度的代价计算
- 支持双足机器人运动约束检查
- 输出详细的路径信息和分析数据

## 构建说明

项目使用CMake构建系统：

```bash
mkdir build
cd build
cmake ..
make
```

## 运行方法

构建完成后，运行生成的可执行文件：

```bash
./trapla
```

## 测试

项目包含单元测试，可以通过以下方式运行：

### Windows系统

```cmd
scripts\platform\windows\run_tests.bat
```

### Linux/macOS系统

```bash
python3 scripts/run_tests.py
```

测试脚本会自动：

1. 生成测试地图数据
2. 将JPEG格式转换为CSV格式
3. 配置项目（CMake）
4. 编译测试可执行文件
5. 运行测试

测试成功的输出示例：

```
正在运行 1 个测试...

正在运行测试: testFoot
  结果: 通过

测试套件执行完成。所有测试通过。
```

## 项目结构

- `src/` - 源代码目录
- `include/` - 头文件目录
- `data/` - 数据文件目录
- `scripts/` - 辅助脚本目录
  - `data_generator/` - 数据生成脚本
  - `transor/` - 数据格式转换脚本
  - `sync/` - 代码同步脚本
  - `platform/` - 平台相关脚本
    - `windows/` - Windows平台脚本
- `doc/` - 文档目录
- `tests/` - 测试文件目录

## 主要组件

- **A*算法模块** - 实现路径搜索功能
- **地形处理模块** - 处理三维地形数据
- **机器人约束模块** - 检查机器人运动约束
- **足部姿态计算模块** - 计算足部位置和姿态
